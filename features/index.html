<!doctype html>
<html lang="en" dir="ltr" class="plugin-pages plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Creating an intelligent reality with AI</title><meta data-rh="true" property="og:title" content="Creating an intelligent reality with AI"><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://realityworld.com/img/website-preview-image.png"><meta data-rh="true" name="twitter:image" content="https://realityworld.com/img/website-preview-image.png"><meta data-rh="true" property="og:url" content="https://realityworld.com/features"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><link data-rh="true" rel="icon" href="/img/logo/reality-world.svg"><link data-rh="true" rel="canonical" href="https://realityworld.com/features"><link data-rh="true" rel="alternate" href="https://realityworld.com/features" hreflang="en"><link data-rh="true" rel="alternate" href="https://realityworld.com/zh/features" hreflang="zh"><link data-rh="true" rel="alternate" href="https://realityworld.com/features" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Creating an intelligent reality with AI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Creating an intelligent reality with AI Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Creating an intelligent reality with AI JSON Feed"><link rel="stylesheet" href="/assets/css/styles.61ddffc2.css">
<link rel="preload" href="/assets/js/runtime~main.2fd98532.js" as="script">
<link rel="preload" href="/assets/js/main.2db48ae4.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/Cogine/RealityWorld">⭐ We are going open source on GitHub</a></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/reality-world.svg" alt="Reality World" class="themedImage_ToTc themedImage--light_HNdA" height="32px" width="32px"><img src="/img/logo/reality-world.svg" alt="Reality World" class="themedImage_ToTc themedImage--dark_i4oU" height="32px" width="32px"></div><b class="navbar__title text--truncate">Reality World</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cogine">Cogine</a></li><li><a class="dropdown__link" href="/reality-create">Reality Create</a></li><li><a class="dropdown__link" href="/app">Reality World</a></li><li><a class="dropdown__link" href="/self-deploying">Self-deploying</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Developers</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/whitepaper">Whitepaper</a></li><li><a class="dropdown__link" href="/docs/intro">Documentation</a></li><li><a class="dropdown__link" href="/thinking">Thinking</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/features">Features &amp; Comparison</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/features" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/features" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/about-open-source">About open source</a></li><li><a class="dropdown__link" href="/community/about-reality-world">About Reality World</a></li><li><a class="dropdown__link" href="/community/roadmap">Roadmap</a></li><li><a class="dropdown__link" href="/community/contact">Contact</a></li><li><a class="dropdown__link" href="/community/questions">Questions</a></li></ul></div><a href="https://github.com/Cogine/RealityWorld" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current,docs-community-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container" style="padding:50px 20px 50px 20px" id="page-pricing"><h1 class="text--center"> Features and benefits</h1><h2 class="text--center" style="font-weight:normal">The following we list the main features of Cogine, for the details please check the technical documentation.</h2><br><table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="center">LangChain</th><th align="center">Chidori</th><th align="center">Cogine</th></tr></thead><tbody><tr><td align="left">Decentralized data</td><td align="left">User&#x27;s data are stored outside of the application and user controls its access permission from the applications</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Interoperability</td><td align="left">One agent can interoperate with any others even it is not developed by a same developer</td><td align="center">limited to agents developed by a same developer and need to call API manually</td><td align="center">limited to agents developed by a same developer and need to call API manually</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Multi-agent collaboration</td><td align="left">Has standard collaborating mechanism between User, System and Agents</td><td align="center">No standard mechanism and need to communicate case by case, also limited to a same developer</td><td align="center">No standard mechanism and need to communicate case by case, also limited to a same developer</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Function/Agent-level sand-boxing</td><td align="left">Every agent and even a function can be isolated so that multi agents come from different can be running in a same memory environment safely</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Conversational computing</td><td align="left">Code can talk to user, system or other agents to ask more information at any function location, the agent will be paused and continue to run when got response.</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Logic-abstraction</td><td align="left">We re-organized the whole program to make developers focused on logic of busniess and forget about the hardware, data and programing language abstraction.</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Visual graph editing</td><td align="left">We build a graph interaction which is as simple as Houdini and as powerful as any turning completed programming language.</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Agent format standard</td><td align="left">We defined a agent format standard to represent a turing completed agent program which can be loaded and runned dynamically so everyone can develop an agent to handle personal needs.</td><td align="center">some runtime in-memory agent object</td><td align="center">some runtime in-memory agent object</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr><tr><td align="left">Virtual machine &amp; Dynamical loading and running</td><td align="left">Can load and run dynamically</td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#F87272" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td><td align="center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#25c2a0" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></td></tr></tbody></table><br><section class="page__section"><div class="container"><h2 class="section__header text--center" style="padding:10px">Development comparison with LangChain and Chidori</h2><p class="text--center" style="white-space:pre-wrap">Basically, in other framework, you have to learn Python language, have to care about the structure of the program and have to learn many architecture design (such as different specific class and its inheritance relationships. In Cogine, the only thing you are care about is your logic, no other programming burden.</p><div style="margin-top:30px"><div class="row"><div class="col col--8 col--offset-2"><div class="col-demo center"><div style="width:1020px"><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs center"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Cogine</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">LangChain</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Chidori</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>First define a Story struct with editor:</p><p><img alt="std" src="/assets/images/cogine-standards-afa43691cf3fe033e9a474df75d9608c.png" width="1362" height="589"></p><p>Then define your component&#x27;s input and output using the above defined struct also with editor:</p><p><img alt="std" src="/assets/images/cogine-components-c811dd4b9b3bcee1dcddcd64eeb2e83b.png" width="1618" height="504"></p><p>Then define your logic flow:</p><p><img alt="std" src="/assets/images/cogine-flow-a9536cf3eaca92b6114d933df6f95c55.png" width="1614" height="303"></p><p>Finally write your component&#x27;s code with Lua:</p><p>fetch_top_hn.lua:</p><pre><code class="language-lua">function updating()
    local story_ids = get_url(&quot;https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty&quot;)
    for i = 1, #story_ids do
        local url = string.format(&quot;https://hacker-news.firebaseio.com/v0/item/%s.json?print=pretty&quot;, story_ids[i])
        stories[i] = get_url(url)
    end
end
</code></pre><p>interpret_the_group.lua:</p><pre><code class="language-lua">function updating()
    local prompt = string.format(&quot;Based on the following list of HackerNews threads, filter this list to only launches of new AI projects: %s&quot;, table_to_string(stories))
    local result = chat_completions(&quot;Please only return the result list as a RFC8259 compliant JSON format with no &#x27;\&#x27; character, no extra information&quot;, prompt)
    if result[&quot;ok&quot;] == true then
        for i = 1, #result[&quot;content&quot;] do
            local story = {}
            out_stories[i] = result[&quot;content&quot;][i]
        end
    end
end
</code></pre><p>format_and_rank.lua:</p><pre><code class="language-lua">function updating()
    local prompt = string.format(&quot;this list of new AI projects in markdown, ranking the most interesting projects from most interesting to least. %s&quot;, table_to_string(stories))
    local result = chat_completions(&quot;Please only return the result list as a RFC8259 compliant JSON format with no &#x27;\&#x27; character, no extra information&quot;,prompt)

    local msg = &quot;The news with AI topics are:\n&quot;
    if result[&quot;ok&quot;] == true then
        for i = 1, #result[&quot;content&quot;] do
            msg = string.format(&quot;%s%d. %s\n&quot;,msg,i,result[&quot;content&quot;][i][&quot;title&quot;])
        end
    end
 
    message[&quot;content&quot;] = msg
    message[&quot;receiver&quot;] = &quot;user&quot;
end
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre><code class="language-python">import aiohttp
import asyncio
from typing import List, Optional
import json
from chidori import Chidori, GraphBuilder


class Story:
    def __init__(self, title: str, url: Optional[str], score: Optional[float]):
        self.title = title
        self.url = url
        self.score = score


HN_URL_TOP_STORIES = &quot;https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty&quot;


async def fetch_story(session, id):
    async with session.get(f&quot;https://hacker-news.firebaseio.com/v0/item/{id}.json?print=pretty&quot;) as response:
        return await response.json()


async def fetch_hn() -&gt; List[Story]:
    async with aiohttp.ClientSession() as session:
        async with session.get(HN_URL_TOP_STORIES) as response:
            story_ids = await response.json()

        tasks = []
        for id in story_ids[:30]:  # Limit to 30 stories
            tasks.append(fetch_story(session, id))

        stories = await asyncio.gather(*tasks)

        stories_out = []
        for story in stories:
            story_dict = {k: story.get(k, None) for k in (&#x27;title&#x27;, &#x27;url&#x27;, &#x27;score&#x27;)}
            stories_out.append(Story(**story_dict))
        return stories_out


# ^^^^^^^^^^^^^^^^^^^^^^^^^^^
# Methods for fetching hacker news posts via api

class ChidoriWorker:
    def __init__(self):
        self.c = Chidori(&quot;0&quot;, &quot;http://localhost:9800&quot;)

    async def build_graph(self):
        g = GraphBuilder()

        # Create a custom node, we will implement our
        # own handler for this node type
        h = await g.custom_node(
            name=&quot;FetchTopHN&quot;,
            node_type_name=&quot;FetchTopHN&quot;,
            output=&quot;{ output: String }&quot;
        )

        # A prompt node, pulling in the value of the output from FetchTopHN
        # and templating that into the prompt for GPT3.5
        h_interpret = await g.prompt_node(
            name=&quot;InterpretTheGroup&quot;,
            template=&quot;&quot;&quot;
                Based on the following list of HackerNews threads, 
                filter this list to only launches of new AI projects: {{FetchTopHN.output}}
            &quot;&quot;&quot;
        )
        await h_interpret.run_when(g, h)

        h_format_and_rank = await g.prompt_node(
            name=&quot;FormatAndRank&quot;,
            template=&quot;&quot;&quot;
                Format this list of new AI projects in markdown, ranking the most 
                interesting projects from most interesting to least. 
                
                {{InterpretTheGroup.promptResult}}
            &quot;&quot;&quot;
        )
        await h_format_and_rank.run_when(g, h_interpret)

        # Commit the graph, this pushes the configured graph
        # to our durable execution runtime.
        await g.commit(self.c, 0)

    async def run(self):
        # Construct the agent graph
        await self.build_graph()

        # Start graph execution from the root
        await self.c.play(0, 0)

        # Run the node execution loop
        await self.c.run_custom_node_loop()


async def handle_fetch_hn(node_will_exec):
    stories = await fetch_hn()
    result = {&quot;output&quot;: json.dumps([story.__dict__ for story in stories])}
    return result


async def main():
    w = ChidoriWorker()
    await w.c.start_server(&quot;:memory:&quot;)
    await w.c.register_custom_node_handle(&quot;FetchTopHN&quot;, handle_fetch_hn)
    await w.run()


if __name__ == &quot;__main__&quot;:
    asyncio.run(main())
</code></pre></div></div></div></div></div></div></div></div></div></section></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Cogine</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/philosophy">Architecture philosophy</a></li><li class="footer__item"><a class="footer__link-item" href="/community/questions">Questions</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item">
              <span>Wechat 开源社区群:</span><br>
              <img src="/img/home/wechat.jpg" alt="Reality World开源社区群" width="150" height="150">
              <br><span>过期请加：ARealityWorld</span>
          </li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Cogine/RealityWorld" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/">License</a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/commnuity/about-reality-world">Reality World</a></li><li class="footer__item"><a class="footer__link-item" href="/community/contact">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">2023 © Reality World.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2fd98532.js"></script>
<script src="/assets/js/main.2db48ae4.js"></script>
</body>
</html>